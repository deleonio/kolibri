import { Meta, Story, Canvas } from '@storybook/addon-docs';
import { Icofont, KoliBriDevHelper } from '@public-ui/components';
import { argTypes } from './1-examples/arg-types.ts';
import {
	ANREDE_ANSPRACHE_INPUT,
	ANREDE_VORNAME_INPUT,
	ANREDE_NACHNAME_INPUT,
	ADRESSE_STRASSE_INPUT,
	ADRESSE_HAUSNUMMER_INPUT,
	ADRESSE_PLZ_INPUT,
	ADRESSE_ORT_INPUT,
} from './form';

<Meta title="Web Components/Form/Controlled_SAVE" argTypes={argTypes} />

# Formulare für Web Components

Formulare stellen eine Sammlung von verschiedenen KoliBri-Komponenten dar. Dies können neben Eingabe- und Auswahlfeldern auch
beliebige andere Komponenten sein, wie z.B. Accordion, Card, Heading oder Button.

## Funktionsweise

## Konstruktion

## Hinweise zur Barrierefreiheit

xxx Text zur Barrierefreiheit xxx

## Beispiel für ein komplexes Formular, eingebettet in eine Accordion-Komponente

<Canvas>
	<div>
		<kol-heading _level="2" class="mb-2 d-block">
			Antragsdaten bearbeiten
		</kol-heading>
		<kol-tabs _tabs="[{'_label': 'Persönliche Daten'},{'_label': 'Weitere Daten'},{'_label': 'Sonstiges'}]">
			<kol-form slot="tab-0" class="d-block p-2">
				<div className="my-2 d-grid gap-2">
					<kol-accordion _heading="Anrede" _level="3" _open>
						<div slot="content" className="d-block">
							<kol-controlled-input id="ansprache" _type="radio" style={{ display: 'block', padding: '1%', verticalAlign: 'top' }}></kol-controlled-input>
							<kol-controlled-input id="vorname" style={{ width: '50%', display: 'inline-block', padding: '1%', verticalAlign: 'top' }}></kol-controlled-input>
							<kol-controlled-input id="nachname" style={{ width: '50%', display: 'inline-block', padding: '1%', verticalAlign: 'top' }}></kol-controlled-input>
						</div>
					</kol-accordion>
					<kol-accordion _heading="Anschrift" _level="3">
						<div slot="content" className="d-block">
							<kol-controlled-input id="strasse" style={{ width: '50%', display: 'inline-block', padding: '1%', verticalAlign: 'top' }}></kol-controlled-input>
							<kol-controlled-input
								id="hausnummer"
								style={{ width: '50%', display: 'inline-block', padding: '1%', verticalAlign: 'top' }}
							></kol-controlled-input>
							<kol-controlled-input id="plz" style={{ width: '50%', display: 'inline-block', padding: '1%', verticalAlign: 'top' }}></kol-controlled-input>
							<kol-controlled-input id="ort" style={{ width: '50%', display: 'inline-block', padding: '1%', verticalAlign: 'top' }}></kol-controlled-input>
						</div>
					</kol-accordion>
				</div>
			</kol-form>
			<kol-form slot="tab-1" class="d-block p-2">
				<div className="my-2 d-grid gap-2">
					<kol-accordion _heading="Kontaktdaten" _level="3" _open>
						<div slot="content" className="m-2 d-grid gap-2">
							<kol-controlled-input id="telefon"></kol-controlled-input>
							<kol-controlled-input id="email"></kol-controlled-input>
						</div>
					</kol-accordion>
					<kol-accordion _heading="Zahlungsdaten" _level="3">
						<div slot="content" className="m-2 d-grid gap-2">
							<kol-controlled-input
								id="zahlart"
								_options={KoliBriDevHelper.stringifyJson([
									{ value: 'Bar', label: 'Bar' },
									{ value: 'Rechnung', label: 'Rechnung' },
									{ value: 'Lastschrift', label: 'Lastschrift' },
								])}
								_type="select"
							></kol-controlled-input>
							<kol-details _summary="Hinweis" _open>
								Bitte beachten Sie, das wir bargeldlose Zahlungsmittel bevorzugen.
							</kol-details>
							<kol-controlled-input id="inhaber"></kol-controlled-input>
							<kol-controlled-input id="iban"></kol-controlled-input>
							<kol-controlled-input id="bic"></kol-controlled-input>
							<kol-controlled-input id="bank"></kol-controlled-input>
						</div>
					</kol-accordion>
				</div>
			</kol-form>
			<kol-form slot="tab-2" class="d-block p-2">
				<div className="my-2 d-grid gap-2">
					<kol-accordion _heading="Kundenkonto" _level="1">
						<div slot="content">
							<div id="row1" style={{ display: 'flex' }}>
								<div style={{ width: '50%', padding: '0px 5px' }}>
									<kol-controlled-input
										_value=""
										_mandatory
										_name="username"
										id="username"
										_label="Benutzername"
										_placeholder="Benutzername"
									></kol-controlled-input>
									<kol-indented-text>Der Benutzername ist für die Anmeldung erforderlich</kol-indented-text>
								</div>
								<div style={{ width: '50%', padding: '0px 5px' }}>
									<kol-controlled-input _mandatory _name="password" id="password" _label="Passwort" _placeholder="Passwort"></kol-controlled-input>
									<kol-indented-text>
										Wählen Sie ein sicheres Passwort. Mindestlänge: 12 Zeichen, mit Groß- und Kleinschreibung, Zahlen und Sonderzeichen wie #!?_
									</kol-indented-text>
								</div>
							</div>
						</div>
					</kol-accordion>
					<kol-accordion _heading="Ihre Bestellung" _level="1">
						<div slot="content">
							<div id="row1" style={{ display: 'flex' }}>
								<div style={{ width: '100%', padding: '0px 5px' }}>
									<kol-table
										_caption="Ihre Bestellung"
										_orientation="vertical"
										_headers="[{'label':'Art.-Nr.:','key':'artnr'},{'label':'Artikel','key':'artikel'},{'label':'Anzahl','key':'anzahl'},{'label':'Einzelpreis','key':'ep'},{'label':'Gesamtpreis','key':'gp'}]"
										_data="[{'artnr':'123456','artikel':'Artikel 1','anzahl':'2','ep':'1299,00€','gp':'2598,00€'},{'artnr':'123456','artikel':'Artikel 2','anzahl':'2','ep':'1299,00€','gp':'2598,00€'},{'artnr':'123456','artikel':'Artikel 3','anzahl':'2','ep':'1299,00€','gp':'2598,00€'}]"
									></kol-table>
								</div>
							</div>
						</div>
					</kol-accordion>
					<kol-accordion _heading="Zusammenfassung" _level="1">
						<div slot="content">
							<div id="row1" style={{ display: 'flex' }}>
								<div style={{ width: '100%', padding: '0px 5px' }}>
									<kol-controlled-input
										_value=""
										_mandatory
										_name="acceptds"
										id="acceptds"
										_label="Ich habe die <kol-link _href='#'>Datenschutzerklärung</kol-link> gelesen und zur Kenntnis genommen"
										_type="checkbox"
									></kol-controlled-input>
									<kol-controlled-input
										_value=""
										_mandatory
										_name="acceptag"
										id="acceptag"
										_label="Ich habe die <kol-link _href='#'>Allgemeinen Geschäftsbedingungen</kol-link> gelesen und zur Kenntnis genommen"
										_type="checkbox"
									></kol-controlled-input>
									<kol-controlled-input
										_value=""
										_name="newsletter"
										id="newsletter"
										_label="Ich möchte den Newsletter abonnieren"
										_as-switch
										_type="checkbox"
									></kol-controlled-input>
									<kol-button _label="Absenden" _icon="icofont-envelope" />
								</div>
							</div>
						</div>
					</kol-accordion>
				</div>
			</kol-form>
		</kol-tabs>
		<kol-button-group class="mt-2 mb-4 d-inline-block float-end">
			<kol-button _label="Speichern" />
			<kol-button _label="Abbrechen" />
			<kol-button _label="Löschen" _disabled />
		</kol-button-group>
	</div>
</Canvas>

## Beispiel für ein Rückrufformular, eingebettet in eine Card-Komponente

Das Formular wurde zusätzlich mit einem Custom Style erstellt.

<Canvas>
	<div>
		<kol-badge _text="* Pflichtfeld" style={{ display: 'block', marginBottom: '10px' }} />
		<kol-card _headline="Rückruf anfordern" _level="1" style={{ display: 'block', border: '2px solid #000', padding: '10px' }}>
			<div slot="content">
				<div id="row1" style={{ display: 'flex' }}>
					<div style={{ width: '50%', padding: '0px 5px' }}>
						<kol-controlled-input
							_value="09:00"
							_mandatory
							_name="time"
							id="time"
							_label="Rückruf um"
							_options={KoliBriDevHelper.stringifyJson([
								{ value: '09:00', label: '09:00' },
								{ value: '10:00', label: '10:00' },
								{ value: '11:00', label: '11:00' },
								{ value: '12:00', label: '12:00' },
								{ value: '13:00', label: '13:00' },
							])}
							_type="select"
						></kol-controlled-input>
						<kol-indented-text>Bitte beachten Sie, das es beim Rückruf zu kurzen Verzögerungen kommen kann.</kol-indented-text>
					</div>
					<div style={{ width: '50%', padding: '0px 5px' }}></div>
				</div>
				<div id="row3" style={{ display: 'flex', marginTop: '10px' }}>
					<div style={{ width: '50%', padding: '0px 5px' }}>
						<kol-controlled-input _mandatory _name="name" id="name" _label="Name" _placeholder="Ihr Vor- und Nachname"></kol-controlled-input>
					</div>
					<div style={{ width: '50%', padding: '0px 5px' }}>
						<kol-controlled-input _name="firma" id="firma" _label="Firma" _placeholder="Ihre Firma"></kol-controlled-input>
					</div>
				</div>
				<div id="row4" style={{ display: 'flex', marginTop: '10px' }}>
					<div style={{ width: '100%', padding: '0px 5px' }}>
						<kol-controlled-input
							_name="bemerkungen"
							id="bemerkungen"
							_label="Bemerkungen"
							_placeholder="Ihre Bemerkungen"
							_type="textarea"
						></kol-controlled-input>
					</div>
				</div>
				<div id="row5" style={{ display: 'flex', marginTop: '10px' }}>
					<div style={{ width: '100%', padding: '0px 5px' }}>
						<kol-controlled-input
							_value=""
							_mandatory
							_name="acceptds"
							id="acceptds"
							_label="Ich habe die <kol-link _href='#'>Datenschutzerklärung</kol-link> gelesen und zur Kenntnis genommen"
							_type="checkbox"
						></kol-controlled-input>
						<kol-controlled-input
							_value=""
							_mandatory
							_name="acceptag"
							id="acceptag"
							_label="Ich habe die <kol-link _href='#'>Allgemeinen Geschäftsbedingungen</kol-link> gelesen und zur Kenntnis genommen"
							_type="checkbox"
						></kol-controlled-input>
						<kol-button _label="Rückruf anfordern" _icon="icofont-phone" />
					</div>
				</div>
			</div>
		</kol-card>
	</div>
</Canvas>

<script>
	() =>
	{setTimeout(() => {
		document.querySelector('#ansprache')._control = ANREDE_ANSPRACHE_INPUT;
		document.querySelector('#ansprache')._options = [
			{
				label: 'Herr',
				value: 'Herr',
			},
			{
				label: 'Frau',
				value: 'Frau',
			},
		];
		document.querySelector('#vorname')._control = ANREDE_VORNAME_INPUT;
		document.querySelector('#nachname')._control = ANREDE_NACHNAME_INPUT;
		document.querySelector('#strasse')._control = ADRESSE_STRASSE_INPUT;
		document.querySelector('#hausnummer')._control = ADRESSE_HAUSNUMMER_INPUT;
		document.querySelector('#plz')._control = ADRESSE_PLZ_INPUT;
		document.querySelector('#ort')._control = ADRESSE_ORT_INPUT;
	}, 1000)}
</script>
