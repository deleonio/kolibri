import { Meta, Story, Canvas } from '@storybook/addon-docs';
import { Icofont, KoliBriDevHelper } from '@public-ui/components';
import { argTypes } from './1-examples/arg-types.ts';
import {
	ANREDE_ANSPRACHE_INPUT,
	ANREDE_VORNAME_INPUT,
	ANREDE_NACHNAME_INPUT,
	ADRESSE_STRASSE_INPUT,
	ADRESSE_HAUSNUMMER_INPUT,
	ADRESSE_PLZ_INPUT,
	ADRESSE_ORT_INPUT,
	KONTAKTDATEN_TELEFON_INPUT,
	KONTAKTDATEN_EMAIL_INPUT,
	ZAHLUNGSDATEN_BANK_INPUT,
	ZAHLUNGSDATEN_BIC_INPUT,
	ZAHLUNGSDATEN_IBAN_INPUT,
	ZAHLUNGSDATEN_INHABER_INPUT,
	ZAHLUNGSDATEN_ZAHLART_INPUT,
	KUNDENKONTO_BENUTZERNAME_INPUT,
	KUNDENKONTO_PASSWORD_INPUT,
	ZUSAMMENFASSUNG_ACCEPTDS_INPUT,
	ZUSAMMENFASSUNG_ACCEPTAG_INPUT,
	ZUSAMMENFASSUNG_NEWSLETTER_INPUT,
	DATA_TIME_INPUT,
	DATA_NAME_INPUT,
	DATA_FIRMA_INPUT,
	DATA_BEMERKUNGEN_INPUT,
	DATA_ACCEPTDS_INPUT,
	DATA_ACCEPTAG_INPUT,
} from './form';

<Meta title="Web Components/Form/Controlled" argTypes={argTypes} />

# Formulare für Web Components

Formulare stellen eine Sammlung von verschiedenen KoliBri-Komponenten dar. Dies können neben Eingabe- und Auswahlfeldern auch
beliebige andere Komponenten sein, wie z.B. Accordion, Card, Heading oder Button.

## Funktionsweise

## Konstruktion

## Hinweise zur Barrierefreiheit

xxx Text zur Barrierefreiheit xxx

## Beispiel für ein komplexes Formular, eingebettet in eine Accordion-Komponente

<Canvas>
	<div>
		<kol-heading _level="2" class="mb-2 d-block">
			Antragsdaten bearbeiten
		</kol-heading>
		<kol-tabs _tabs="[{'_label': 'Persönliche Daten'},{'_label': 'Weitere Daten'},{'_label': 'Sonstiges'}]">
			<kol-form slot="tab-0" class="d-block p-2">
				<div className="my-2 d-grid gap-2">
					<kol-accordion _heading="Anrede" _level="3" _open>
						<div slot="content" className="d-block">
							<kol-controlled-input id="ansprache" _type="radio" style={{ display: 'block', padding: '1%', verticalAlign: 'top' }}></kol-controlled-input>
							<kol-controlled-input id="vorname" style={{ width: '50%', display: 'inline-block', padding: '1%', verticalAlign: 'top' }}></kol-controlled-input>
							<kol-controlled-input id="nachname" style={{ width: '50%', display: 'inline-block', padding: '1%', verticalAlign: 'top' }}></kol-controlled-input>
						</div>
					</kol-accordion>
					<kol-accordion _heading="Anschrift" _level="3">
						<div slot="content" className="d-block">
							<kol-controlled-input id="strasse" style={{ width: '50%', display: 'inline-block', padding: '1%', verticalAlign: 'top' }}></kol-controlled-input>
							<kol-controlled-input
								id="hausnummer"
								style={{ width: '50%', display: 'inline-block', padding: '1%', verticalAlign: 'top' }}
							></kol-controlled-input>
							<kol-controlled-input id="plz" style={{ width: '50%', display: 'inline-block', padding: '1%', verticalAlign: 'top' }}></kol-controlled-input>
							<kol-controlled-input id="ort" style={{ width: '50%', display: 'inline-block', padding: '1%', verticalAlign: 'top' }}></kol-controlled-input>
						</div>
					</kol-accordion>
				</div>
			</kol-form>
			<kol-form slot="tab-1" class="d-block p-2">
				<div className="my-2 d-grid gap-2">
					<kol-accordion _heading="Kontaktdaten" _level="3" _open>
						<div slot="content" className="m-2 d-grid gap-2">
							<kol-controlled-input id="telefon"></kol-controlled-input>
							<kol-controlled-input id="email"></kol-controlled-input>
						</div>
					</kol-accordion>
					<kol-accordion _heading="Zahlungsdaten" _level="3">
						<div slot="content" className="m-2 d-grid gap-2">
							<kol-controlled-input id="zahlart" _type="select"></kol-controlled-input>
							<kol-details _summary="Hinweis" _open>
								Bitte beachten Sie, das wir bargeldlose Zahlungsmittel bevorzugen.
							</kol-details>
							<kol-controlled-input id="inhaber"></kol-controlled-input>
							<kol-controlled-input id="iban"></kol-controlled-input>
							<kol-controlled-input id="bic"></kol-controlled-input>
							<kol-controlled-input id="bank"></kol-controlled-input>
						</div>
					</kol-accordion>
				</div>
			</kol-form>
			<kol-form slot="tab-2" class="d-block p-2">
				<div className="my-2 d-grid gap-2">
					<kol-accordion _heading="Kundenkonto" _level="3" _open>
						<div slot="content">
							<div id="row1" style={{ display: 'flex' }}>
								<div style={{ width: '50%', padding: '0px 5px' }}>
									<kol-controlled-input id="benutzername"></kol-controlled-input>
									<kol-indented-text>Der Benutzername ist für die Anmeldung erforderlich</kol-indented-text>
								</div>
								<div style={{ width: '50%', padding: '0px 5px' }}>
									<kol-controlled-input id="password" _type="password"></kol-controlled-input>
									<kol-indented-text>
										Wählen Sie ein sicheres Passwort. Mindestlänge: 12 Zeichen, mit Groß- und Kleinschreibung, Zahlen und Sonderzeichen wie #!?_
									</kol-indented-text>
								</div>
							</div>
						</div>
					</kol-accordion>
					<kol-accordion _heading="Zusammenfassung" _level="3">
						<div slot="content">
							<div id="row1" style={{ display: 'flex' }}>
								<div style={{ width: '100%', padding: '0px 5px' }}>
									<kol-controlled-input
										id="acceptds"
										_label="Ich habe die <kol-link _href='#'>Datenschutzerklärung</kol-link> gelesen und zur Kenntnis genommen"
										_type="checkbox"
									></kol-controlled-input>
									<kol-controlled-input
										id="acceptag"
										_label="Ich habe die <kol-link _href='#'>Allgemeinen Geschäftsbedingungen</kol-link> gelesen und zur Kenntnis genommen"
										_type="checkbox"
									></kol-controlled-input>
									<kol-controlled-input id="newsletter" _label="Ich möchte den Newsletter abonnieren" _as-switch _type="checkbox"></kol-controlled-input>
								</div>
							</div>
						</div>
					</kol-accordion>
				</div>
			</kol-form>
		</kol-tabs>
		<kol-button-group class="mt-2 mb-4 d-inline-block float-end">
			<kol-button _label="Speichern" />
			<kol-button _label="Abbrechen" />
			<kol-button _label="Löschen" _disabled />
		</kol-button-group>
	</div>
</Canvas>

## Beispiel für ein Rückrufformular, eingebettet in eine Card-Komponente

Das Formular wurde zusätzlich mit einem Custom Style erstellt.

<Canvas>
	<div>
		<kol-badge _text="* Pflichtfeld" style={{ display: 'block', marginBottom: '10px' }} />
		<kol-card _headline="Rückruf anfordern" _level="1" style={{ display: 'block', border: '2px solid #000', padding: '10px' }}>
			<div slot="content">
				<div id="row1" style={{ display: 'flex' }}>
					<div style={{ width: '50%', padding: '0px 5px' }}>
						<kol-controlled-input id="time" _type="select"></kol-controlled-input>
						<kol-indented-text>Bitte beachten Sie, das es beim Rückruf zu kurzen Verzögerungen kommen kann.</kol-indented-text>
					</div>
					<div style={{ width: '50%', padding: '0px 5px' }}></div>
				</div>
				<div id="row3" style={{ display: 'flex', marginTop: '10px' }}>
					<div style={{ width: '50%', padding: '0px 5px' }}>
						<kol-controlled-input id="name"></kol-controlled-input>
					</div>
					<div style={{ width: '50%', padding: '0px 5px' }}>
						<kol-controlled-input id="firma"></kol-controlled-input>
					</div>
				</div>
				<div id="row4" style={{ display: 'flex', marginTop: '10px' }}>
					<div style={{ width: '100%', padding: '0px 5px' }}>
						<kol-controlled-input id="bemerkungen" _type="textarea"></kol-controlled-input>
					</div>
				</div>
				<div id="row5" style={{ display: 'flex', marginTop: '10px' }}>
					<div style={{ width: '100%', padding: '0px 5px' }}>
						<kol-controlled-input id="form2acceptds" _type="checkbox"></kol-controlled-input>
						<kol-controlled-input id="form2acceptag" _type="checkbox"></kol-controlled-input>
						<kol-button _label="Rückruf anfordern" _icon="icofont-phone" />
					</div>
				</div>
			</div>
		</kol-card>
	</div>
</Canvas>

<script>
	() =>
	{setTimeout(() => {
		document.querySelector('#ansprache')._control = ANREDE_ANSPRACHE_INPUT;
		document.querySelector('#ansprache')._options = [
			{
				label: 'Herr',
				value: 'Herr',
			},
			{
				label: 'Frau',
				value: 'Frau',
			},
		];
		document.querySelector('#vorname')._control = ANREDE_VORNAME_INPUT;
		document.querySelector('#nachname')._control = ANREDE_NACHNAME_INPUT;
		document.querySelector('#strasse')._control = ADRESSE_STRASSE_INPUT;
		document.querySelector('#hausnummer')._control = ADRESSE_HAUSNUMMER_INPUT;
		document.querySelector('#plz')._control = ADRESSE_PLZ_INPUT;
		document.querySelector('#ort')._control = ADRESSE_ORT_INPUT;
		document.querySelector('#telefon')._control = KONTAKTDATEN_TELEFON_INPUT;
		document.querySelector('#email')._control = KONTAKTDATEN_EMAIL_INPUT;
		document.querySelector('#bank')._control = ZAHLUNGSDATEN_BANK_INPUT;
		document.querySelector('#bic')._control = ZAHLUNGSDATEN_BIC_INPUT;
		document.querySelector('#iban')._control = ZAHLUNGSDATEN_IBAN_INPUT;
		document.querySelector('#inhaber')._control = ZAHLUNGSDATEN_INHABER_INPUT;
		document.querySelector('#zahlart')._control = ZAHLUNGSDATEN_ZAHLART_INPUT;
		document.querySelector('#zahlart')._options = [
			{
				label: 'Bar',
				value: 'Bar',
			},
			{
				label: 'Lastschrift',
				value: 'Lastschrift',
			},
			{
				label: 'Rechnung',
				value: 'Rechnung',
			},
		];
		document.querySelector('#benutzername')._control = KUNDENKONTO_BENUTZERNAME_INPUT;
		document.querySelector('#password')._control = KUNDENKONTO_PASSWORD_INPUT;
		document.querySelector('#acceptds')._control = ZUSAMMENFASSUNG_ACCEPTDS_INPUT;
		document.querySelector('#acceptag')._control = ZUSAMMENFASSUNG_ACCEPTAG_INPUT;
		document.querySelector('#newsletter')._control = ZUSAMMENFASSUNG_NEWSLETTER_INPUT;
		document.querySelector('#time')._control = DATA_TIME_INPUT;
		document.querySelector('#time')._options = [
			{
				label: '09:00',
				value: '09:00',
			},
			{
				label: '10:00',
				value: '10:00',
			},
			{
				label: '11:00',
				value: '11:00',
			},
			{
				label: '12:00',
				value: '12:00',
			},
			{
				label: '13:00',
				value: '13:00',
			},
		];
		document.querySelector('#name')._control = DATA_NAME_INPUT;
		document.querySelector('#firma')._control = DATA_FIRMA_INPUT;
		document.querySelector('#bemerkungen')._control = DATA_BEMERKUNGEN_INPUT;
		document.querySelector('#form2acceptds')._control = DATA_ACCEPTDS_INPUT;
		document.querySelector('#form2acceptag')._control = DATA_ACCEPTAG_INPUT;
	}, 1000)}
</script>
